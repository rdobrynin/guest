var calcShowes = new function() {	this.usersNumByAge = usersNumByAge();	//Посчитать кол-во пользователей с указанным возрастом	this.calcIt = calcIt;					//Охват аудитории и количество показов		function usersNumByAge() {		//       0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,     14,     15,     16,     17,     18,     19,     20,     21,     22,     23,     24,     25,     26,     27,     28,     29,     30,     31,     32,     33,    34,    35,    36,    37,    38,    39,    40,    41,    42,    43,    44,    45,    46,    47,    48,    49,    50,    51,    52,    53,    54,   55,   56,   57,   58,   59,   60,   61,   62,   63,   64,   65,   66,   67,   68,   69,   70,  71,  72,   73,   74,   75,  76,  77,  78,  79,  80,  81,  82,  83,   84,  85,  86,  87,  88,   89,  90,   91,   92,   93,    94,   95,  96,   97,  98,  99,   100,  101,  102,  103,  104,  105,  106,  107,  108,  109,  110,  111,  112,   113		var a = [0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 27, 35, 51, 100093, 317927, 408607, 427780, 476137, 531900, 532779, 485895, 455497, 419493, 394480, 362822, 343409, 310978, 267317, 218722, 181140, 148568, 118612, 94024,  82270, 66632, 55800, 48180, 41699, 36922, 32097, 27754, 25338, 22820, 21242, 18766, 15854, 14317, 13649, 12316, 11952, 11335, 10618, 10255, 9572,  8146, 7220, 6498, 5578, 5093, 4426, 3676, 3298, 2891, 2971, 2315, 1690, 1452, 1325, 3976, 1683, 820, 831, 2932, 1335, 942,  577, 623, 589, 467, 416, 657, 563, 471, 924,  692, 598, 989, 731, 959,  870, 1044, 1209, 1714, 14523, 6567, 855, 1662, 726, 585, 1786, 3086, 2024, 1479, 1872, 1344, 1025, 1354, 1306, 2411, 2112, 2709, 4762, 87326, 37405];		return (function(from, to) {			from = parseInt(from, 10);			to = parseInt(to, 10);			var sum = 0;			if (to >= 114) {				if (from == 0) return 8000000;				sum = 0;				to = 113;			}			for (var i = from; i <= to; i++) sum += a[i];			return sum;		});	}		function calcIt(votes, sex, minAge, maxAge, isNewVersion) {		isNewVersion = true;		var covPercent = 100;		votes = +votes;		var k = 1;				if (isNewVersion) {			if (sex == 1) k *= 1.0; //муж			if (sex == 2) k *= 0.9; //жен			if (minAge > 0 || maxAge < 1000) k *= 0.700;		}else{			if (sex == 1) k *= 0.9145; //муж			if (sex == 2) k *= 0.8290; //жен			if (minAge > 0 || maxAge < 1000) k *= 0.609;		}				if (minAge > 13 || maxAge < 13) k *= 0.947;		if (minAge > 14 || maxAge < 14) k *= 0.829;		if (minAge > 15 || maxAge < 15) k *= 0.641;		if (minAge > 16 || maxAge < 16) k *= 0.719;		if (minAge > 17 || maxAge < 17) k *= 0.671;		if (minAge > 18 || maxAge < 18) k *= 0.760;		if (minAge > 19 || maxAge < 19) k *= 0.926;		if (minAge > 20 || maxAge < 20) k *= 0.886;		if (minAge > 21 || maxAge < 21) k *= 0.886;		if (minAge > 22 || maxAge < 22) k *= 0.957;				if (minAge > 27 || maxAge < 27) k *= 0.995;		if (minAge > 28 || maxAge < 28) k *= 0.980;		if (minAge > 29 || maxAge < 29) k *= 0.990;		if (minAge > 30 || maxAge < 30) k *= 0.995;				var tm = calcShowes.usersNumByAge(minAge, maxAge) / calcShowes.usersNumByAge(0, 1000);		k *= Math.pow(tm, 0.1);				if (sex == 1) covPercent *= 0.45;		if (sex == 2) covPercent *= 0.55;		covPercent *= tm;				if (isNewVersion) {			var showesNumFloat = 350 * k * votes;			var oneVoteRise = 0;			if (true) {				var bonusPercent = 0;				if      (votes >= 50)	bonusPercent = 20;				else if (votes >= 10)	bonusPercent = 15;				else if (votes >= 5)	bonusPercent = 10;				else if (votes >= 2)	bonusPercent = 5;			}		}else{			var showesNumFloat = (votes < 2 ? 500 : 700) * k * votes;			var oneVoteRise = 40;			if (true) {				var bonusPercent = 0;				if      (votes >= 600)	bonusPercent = 50;				else if (votes >= 200)	bonusPercent = 40;				else if (votes >= 100)	bonusPercent = 30;				else if (votes >= 30)	bonusPercent = 20;				else if (votes >= 10)	bonusPercent = 10;			}		}				var bonusNum = Math.floor(showesNumFloat * bonusPercent / 100);		return {covPercent: covPercent, showesNum: Math.floor(showesNumFloat), bonusPercent: bonusPercent, bonusNum: bonusNum, oneVoteRise: oneVoteRise};	}};if (typeof(exports) == "object") {	exports.usersNumByAge = calcShowes.usersNumByAge;	exports.calcIt = calcShowes.calcIt;}/*return API.users.search({count: 1, online: 1});return API.users.search({age_from: 114, count: 1, online: 1});var a = 7;var b = a + 6;var s = "";var s2 = "";while (a < b) {	var tm = API.users.search({age_from: a, age_to: a, count: 1, online: 1});	s = s + a + " - " + tm.count + "\n";	s2 = s2 + tm.count + ", ";	a = a + 1;}return "\n" + s2 + "\n" + s;*/