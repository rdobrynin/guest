'use strict';//Дата регистрацииvar reg = new function() {	var pack = "    ~    {    z    (    )    *    y         ,    -    .    x    0    1    2    3    4    5    6         7    8    9    :    ;    @    F    L              V                   W                   X              Y                   Z              [                   u              ]                   ^              _                   `                   a              b                   c              d                   e              f                   g   ~{   ~D        ~R   ~S        ~T        ~U        ~V        ~W   ~X        ~Y        ~Z        ~[   ~u        ~]        ~^        ~_   ~`        ~a        ~b        ~c        ~d   ~e        ~f        ~g        ~h   ~i        ~j        ~k        ~l        ~m   ~n        ~o        ~p        ~q   ~r        ~s        ~t   }|   })   }.   }4   }9   }V   #8   |    |J   |e   %y   {Z   )0   -a   1W   3k   84   v*   D    Ik   Oa   U%   Z*   _%   d    hp   ma   rR  ~}9  ~z*  ~yp  ~0a  ~4%  ~6%  ~8%  ~:%  ~vx  ~Cp  ~IR  ~Ov  ~U   ~ZW  ~`C  ~f%  ~j%  ~lW  ~o4  ~s4  }#x  }(*  }-%  }2   }7%  }A9  }OW  }dH  #,%  #Jk  #iu  |)a  |7C  |Dp  |RR  |`4  |mk  %{M  %4x  %Af  %Sp  %iH  {*   {?W  {Ux  {ju  zy4  zv9  zOH  z`W  zqu  (-k  (?%  (Np  (]a  ) k  )@%  )_*  *)9  *Hv  *ex  y#4  y0x  y=*  yJ%  yW   ycp  yq   ,(p  ,5k  ,P   ,sk  -Ba  -fW  ..u  .E%  .uR  .rp  x5H  xKf  xmp  0C9  0mW  1Dx  1nM  2Ck  2n4  3CR  3mp  4C9  4mW  5C   5pk  6L*  7zv  7WR  82f  8c%  9v9  9mv  :HR  ;#f  ;T%  wx9  w_M  =:a  =k   vF4  ?~H  ?PM  @ya  @u   A74  AgH  BBu  Czv  Ch%  DRR  Ev9  F*   FiM  GU4  H?a  IyH  Ilx  JVu  KBC  L,p  LmW  MXx  NCk  OxR  Ola  PSa  Q:a  R~a  R]a  SDa  Tya  Tga  UNa  V5a  W.C  X1W  Y6%  Z99  [=u  u@p  ]Ev  ^HR  _M   `P4  aTW  bY%  cu9  d`u  ecp  fhv  gkR  hp   is4  k}W  l%k  m*9  n-M  o1p  p2f  q1v  rxk  s.C  t,p ~ yH ~~*  ~}(M ~#z% ~|%R ~%|* ~{}W ~z~x ~(nM ~*fk ~,Af ~-qa ~xKM ~1{H ~2VC ~41v ~5a9 ~7w4 ~8lx ~:G* ~w k ~=Pf ~?ya ~@[u ~B6W ~CfR ~EAM ~FPM ~GKM ~HGu ~IBu ~J=u ~K8u ~L4k ~Mxk ~N*k ~O%k ~P}% ~Pr% ~Qm% ~Rh% ~Sd4 ~T_4 ~UZ4 ~WlH ~ZdM ~]uR ~``C ~bfk ~dv9 ~eju ~gB* ~hnM ~jEp ~krv ~mIa ~o~x ~pMR ~r%  ~sQC } (f }~U4 }#,W }|Y% }{0H }zuk })49 }y#4 },rp }.mW }0hv }2nf }4iM }6d4 }8^p }:eC }w`* }vZf }@UM }BP4 }DVu }FQC }HL* }JFf }LAM }NH  }PBu }R=C }T8* }V2f }X99 }Z4  }u.u }^)C }`xk }b*R }d%9 }fZf }i^W }lbH }of9 }rj* # mp ##qa #z R #*|C #-(4 #0,% #3xk #63u #97M #w;v #??x #BC  #EFf #HJW #KNH #N^% #Qak #Teu #WiM #Zmv #]qx #a   #d#f #gVu #kWk #oY% #sf  |}gx |{hv |*iM |.ju |3}W |7#f |;%  |?{x |Czv |G(M |K5H |O6W |S7f |W9  |[:x |_G* |cH9 |gIH |kJW |oKf |sM  %#KM %)|* %.Qu %4*9 %9Wk %?0H %D^% %J6W %Od4 %Uwf %ZjC %`C  %epR %kIx %q~a {~[* {z3u {,a9 {29k {7gH {=@% {BmW {HF4 {Msf {SLC {Y%  {^RR {dyx {iXa {o1v {t^p z%7M z*e* z0=u z5k9 z;Ck z@qH zFJ% zL.C zQu  zW4R zuzv z`@% zdXa zhqH zm5x zqMk ( fR (%*9 ()C  (-gH (2yx (6Ck (:uR (? 9 (C9  (GQu (KjC (P.* (TRR (Xk9 (]x  (aGu (g,% (mba (t8u )%oC ),Ev )3z% )9R  )@3u )F^W )M@v )Sk9 )ZM  )b7f )k   )sQC *z-f *xk  *8GC *AxR *Ia  *RIx *[%R *cba *l?x y zv y{x  y*Gu y.`C y3|* y;a9 yGY% ySPf y_HR yk@v ,}8* ,.xk ,8~x ,@;% ,HTp ,Pc% ,Yzp ,aAf ,i[u ,qif -%.u --HR -5Vu -=pR -F5H -LHk -Qxk -Ukk -ZRk -_9k -d k -huk -mCk -r6W .~rW .{YW .y@W .4cW .AdM .NeC .[f9 .hgx x h% x-hp x:if xGju xTkR xa`u xnaR 0{bH 03cv 0v:H 0EnM 0MMR 0U,W 0u`u 0d?a 0ksf 0sRk 1{1p 1-f  15E% 1=|* 1DXx 1L74 1Sk9 1[Jv 1c)C 1j]H 1rwM 2|pR 2-5H 25Ov 2vO% 2GNa 2PNH 2YNx 2bMk 2kMR 2tM9 3(M  31Lu 3:LC 3CL* 3I_M 3M1W 3QvR 3UKM 3XrW 3]*R 3`Qu 3d^W 3nDx 4z6W 44C9 4AOp 4K5H 4R.u 4Yzp 4`~x 4foC 4mhW 4tak 5{[* 5-Tv 54MR 5;Ff 5B@% 5I99 5OLu 5VEp 5]?x 5cRR 5if  5p|C 6~7f 6zK4 6-^W 64Wk 6:k9 6A)u 6G=* 6MPM 6Scp 6Z}v 6`5a 6fIx 6luR 6sUf 7|i4 7yzW 71;% 77NH 7=ak 7D 9 7J3u 7PG* 7VZM 7ump 7cgx 7j%R 7p9  8~LC 8z_f 8-s4 841W 8:E% 8@XH 8Fkk 8M*9 8S=u 8YQ* 8_dM 8f}p 8l6v 8rIa 9#]x 9)pR 90x  96BC 9wUf 9Bi4 9IzW 9O;% 9UNH 9[z% 9a:H 9gMk 9ma9 9stu :%3* :yFM :1Yp :7mv :vya :D?x :Ila :OEv :Trp :ZKM :`|* :eQu :k*9 :pWk ;~0H ;{^% ;,6W ;1d4 ;7wf ;wjC ;BC  ;GpR ;L(M ;P5H ;SuR ;W.u ;ZUf ;^zp ;aO% ;e~x ;hH9 ;koC ;oAM ;rhW w~:a w|ak w(4  wy[* w2Tv w;T% wE9R wN99 wW9  w`8u wi8C wrrp ={rW =xrv =8r% =BWR =KW9 =TW  =]Vu =fVC =p;p v|;W v-;v v6;% v?:a vH:H vQ:x vZ9k vc9R vkSH vtSx ?(Rk ?1RR ?:R9 ?CR  ?LQu ?T0a ?[df ?cCk ?j=* ?qqx @|P4 @yIH @3cv @wc% @Eba @NbH @Wbx @`ak @iaR @ra9 A{a  Ax`u A8`C AA`* AJ_f AS_M Au|C Ae|* An#f B}#M By#4 B4}p Bwwf BEwM BNw4 BW;p B`;W BhUM BqU4 C%Tp C.TW C7Tv C@T% CHmp CQmW CZmv Ccm% Clla D lH D)lx D3Qu DwQC DEQ* DNPf DX6v Da6% Dj5a Ds5H Ezp  E0ou E9oC EBo* ELTW EUTv E^T% EgSa Eq99 F%9  F.8u F78C F@rp FL|* FXJp Fdqa FqCR G(jC G5w4 GAc% GN4k GZ[u Gg-M GsTv Hy{x H7M  HCsf HPEW HulH Hiv9 I e* I-6p I8=* IB]H IM(f IWIx IbOv Ilou J};% J,[C J7{a JAG* JKgH JVmW Ja9  JkYv K~|u KyE% K5eC K@0a KK6p KUW9 K`}W KjC  Ktcv L*.u L7;v LEhW LT@p LcT% Lr,v MyYW M:1p MH_4 MWrv MfJW N }p N.P4 N=(M NKUf NZhp NiA4 O}nM O0{x OwM  OHsf OUEW OalH Oo|* P{Jp P2qa P?CR PKjC PXw4 Pdc% Pq4k Q([u Q5-M QATv QNa  Q[2f QgYW QtyH RyR9 R8|* RE0a RPqa Ru]a RixR RtpR SyuR S7HR SC4R SO[C S[GC Sg3C SrtC T)`C T5LC TAs4 TNE% TZ1% TfWk Ts)u U*PM U6wM UBcv UO5x U[~x UgH  Usnf Vy@W V7,W VCSH VP%9 V[f9 Vh8* Vt^p W,0a W7qa WDCR WQP4 W^}% Wk.u X}UM Xxbx Xw4  XI@W XUgH Xbt* XoEp YzRR Y4|C YA1% YMWk YZdM Yg6v YtC  Zyif Z9~H ZEH9 ZRTp Z_{a Zl3C [#Z4 [0fk [=8u [JEv [Vlx [d#f [pJW u(W9 u5)* uB5a uN~a uYzp ud.* uo49 ]%:H ]0@W ];Ff ]FM  ]QSx ]uYv ]g_M ]reu ^(kk ^374 ^v=C ^ICR ^TIa ^_Op ^jV* _ u9 _ybH _6hW _Anf _M   _X{x _c,v _n2M `|8u `0|u `wKM `Hrv `UDx `ak  `nwf a%cW a25H avu9 aK.* aWTp ab[* am{H b#,W b-M  b8Sx bBsM bMvk bXE% bbeC bmkR c#6p c-W9 c8]H cCcW cNif cYp  ce~x cpzv d{hv d1nM dwtu dH%k dSfk d^m% dis4 e |C ey*R e6kR eAqa eM}p eX)* ecx9 enp9 f%~H f0bH fwNH fH:H fT{H f_gH fkSH g}?H g.yH g;8* gJK4 gY#M gh6W h~cp h1}% h?Ov hNbH h^ R hlMk i{a  i599 iDLC iS|u ib7f ipe* jy#4 j9PM jHcW jW;p jfO% k zv kx:H kvMR kM%k ku9  kjf9 l%|C l3Qu lBdf lVxk llw4 m..C m@-f mP{a m_tu momW n*ya n:|u nN*R nd6p o{)* ow5H oRAf oeak p}{H p2Z4 pCsf pU8C pfR  q *9 q-qa q;)C qH6% qUBu qbOv qou  rzhW r5[* rBga rPZ4 r]fk rkYv s#f  s1XH sve* sLWR sYd4 sgVu t Ix t-Uf t;H9 tHTp tVGC tcT% tqFM~ )Sx~ 7EW~ DR9~ RDa~ `74~ mCk~~{6v~~3C ~~BV*~~RO%~~bH ~~r@p~}-tu~}?99~}Q8u~}bR9~}tQu~#2qa~#EW ~#Y}%~#ku9~|z;%~|6Nx~|Ea9~|TtC~|d2M~|sEW~%x|C~%@v ~%QWR~%b6v~%sOp~{xiM~{A.*~{RGu~{c{H~{t@%~z0YW~zBY%~zUv9~zg=u~(%}p~(7}v~(IuR~(uAf~(nA4~),{H~)v`u~)P`*~)cEv~* Da~*2Dx~*C}p~*TwM~*eV*~y~4k~y2NH~yCh%~yTFf~ye`C~,~?x~,2Xa~,Crv~,TQ*~,g6v~-{w4~-:B*~-Mbx~-ah%~. mp~.4sf~.Hvk~.[|*~.m#M~x*}p~x;wM~xM;p~x_;v~xpTp~0-Tv~0?Sa~0Pmv~0aL*~0qE%~1,v ~1;Q*~1KJ%~1[C ~1jV*~2%O%~25H ~2D[*~2W@v~2l,%~3y1p~3?rW~3T^v~3hd4~4(Op~4=;W~4QAM~4f-4~5{Sa~5w%9~5Pf ~5f7M~6{#4~6;Ia~6Pp9~6eu ~7{-M~7:n4~7P?a~7ef9~8%R ~8;#M~8Od4~8e5a~9%~H~99bx~9NMk~9bSa~:}?H~:7yx~:Kkk~:_qa~:t]H~;4Ix~;I4k~;^ R~;r{H~w1gx~wFRk~w[vR~wp*9~=x0x~=Cpk~=XuR~=mH9~v,Nx~vA9k~vV%R~vjf9~?*R ~?vWk~?SCR~?hx9~@zp ~@w k~@PaR~@eM9~A%9 ~A:|u~AN*R~Abk9~B}W ~B8cv~BQ~x~BhNx~Cy{x~CBSx~CZf ~Crv ~D4k ~DLC ~DdUf~Ez-f~EvZf~EUM ~El?x~F-KM~FCWk~FZJ%~FpVC~G1ba~GHTp~G^a9~GtmW~H6_f~HLlx~Hc#M~I|ju~I;}%~IQ.C~Ih R~J),p~J?99~JT_f~Jheu~KzkR~K;qH~KP}v~Kd(4~L#.*~L74 ~LKtu~L`%R~LtyH~M31v~MG74~M[=*~MoC ~N.Hk~NC4R~NTNx~Ne,p~O~FM~O2%9~OBY%~OS7f~OckR~OtJv~P0)*~P@uk~PQ;W~PaoC~PrNx~Q.,p~Qv`u~QO?H~Q_s4~QpR ~R,0a~RwdM~RMC9~R^}%~RnUf~S*4R~S:hv~SKG*~Su%k~SlYW~TzRR~T7KM~TGDH~TW=C~Tg6v~U~IH~U1BC~UA;v~UQ49~Ua-4~Uq{x~Vyt*~V;m%~VKf ~V[^p~Vjr%~W%k ~W5cp~WEuk~WUUf~WeNa~X Gu~X0@W~X@9R~XOLu~X_EW~XovR~Y*7M~Y:0H~YJ)C~YZ}v~Yip9~Z|.C~Z3AM~ZBTW~ZQga~Za%k~Zp9 ~[*L*~[9_4~[H7M~[WJW~[f]a~u pk~u0x ~u?B*~uNU4~u]hv~um{H~]z9R~]6Lu~]E_f~]Trp~]d1%~]sDx~^-W9~^wxR~^KBu~^ZUf~^ihp~_|z%~_3:x~_BM9~_Q`C~_b?x~_sXa~`xrv~`A6p~`RPM~`cj*~a .u~a1H9~aBak~aT{H~ae@%~b~YW~b2s4~bDrW~bV74~bgPf~c#jC~c5x ~cFHR~cWbx~ci{a~d%@v~d6Yp~dGsM~dY8*~djQu~e{k9~e8xk~eIIH~eZc%~elzW~f(A4~f9Zf~fJtC~f^?H~fq_M~g0*R~gD0H~gWPM~gkVC~h*~H~h=AM~hQGC~hdgH~i#mv~i78C~iJXH~i^^v~ir)C~j1x9~jDOv~jWoC~jl 9~k*@v~kvF4~kQf9~ke1v~l|74~l7W9~lK}v~l_(4~lrH9~m1Nx~mDn4~mX99~ml?x~n*_4~nBr%~n]qx~o#5H~ov4R~oY3u~osM ~p9L*~pSeC~pndM~q4cW~qOzp~qjz%~r0{x~rJ?H~revR~sy=u~sEW ~s`V*~t%oC~t@nM~t[mW} ~1p} w1%} W0x} qIH}~7HR}~RGu}~la }}2`*}}M|C}}h#M}#.}W}#H;p}#c;%}|):x}|CSH}|^RR}%|Qu}%vk }%Yj*}%t.C}{w4 }{ZZ4}z|yH}zBQu}za}p}(*Ix}(HoC}(g@W})0fk})O8*})m^v}*7jC}*V;W}*tak}yv3*}yuYv},{*R},DPf},c}%}-,H9}-JnM}-i?a}.2f }.Q74}.o]H}x9.u}xWTp}0~{x}0?LC}0]rW}1zCk}1Ej*}1d;v}2-aR}2L2f}2kvk}34e*}3Sqx}3s(4}4=49}4[ZM}5%fR}5DrW}5d)u}6.5a}6Lu }6kh%}75t*}7Uyx}7sQC}8=]H}8uiM}9z R}9F,W}9dRk}:.^p}:Mk }:m}%};6H9};UTv};t`C}wvlH}w^#M}=zIa}=FUf}=eak}vxmp}vN?x}vmK4}?7W9}?Vcv}@ oC}@?@W}@^Lu}A3^p}AeP4}BCzv}BtmW}CRDa}Dx6%}Dabx}EvSH}Eq*R}FMpk}GyH }G]99}H:eC}HlVu}IJ-f}J{t*}JXeC}K6wM}Kh-f}L*  }L,a9}L.ga}L1T%}L4@v}L7,W}Lv%k}LG%R}LP`*}LY_f}LcEv}Lm*k}M~eC}MyJp}M5k9}M?Pf}MI6v}MSVu}M]w4}Mg~a}MqB*}N{zW}N0H }N:-M}NCh%}NN3C}NWmp}NaSH}Nksf}O Yv}Oy|u}O4_4}O?*R}OIJp}OS0H}O]Pf}Ogqx}OqVu}Pzuk}P2c%}P=i4}PHoC}PT R}P_{a}Pha9}Pq{x}Q#Z4}Qyt*}Q49 }QwRk}QDla}QLKf}QUKM}Q]eC}Qfe*}Qodf}R#)u}R,)C}R5)*}R=C }RFBu}RNuR}RWu9}R`u }Ri k}Rr R}S{ 9}S.:x}S79k}S?Sa}SHSH}SQSx}SYm%}Sb1p}Sif }SqE%}T|^p}T,v }T3r%}T;Q*}TCk }TKJ%}TS)*}TZ]x}Tbw4}TjV*}Tr5x}U|i4}U,H9}U5H }U?-M}UH-4}UQga}U[M9}Ua%k}Ucgx}UhYp}UoSx}V}24}V)yH}V0|u}V8vR}V?rW}VGQu}VO0a}VVdf}V[WR}VbPf}Vl6v}W 6%}Wzj*}W.cv}W6BC}W=;W}WDou}WLNa}WThW}WuGu}Wd{a}WkZf}WrT%}X%3*}X-M }X6Lu}X:YW}XE% }XOEv}XVvR}X]rW}Xf7M}XnQC}Y~k9}Y*0x}Y2J%}Y9C9}YA}v}YHVC}YPp9}YXOv}Y`.C}YgzW}Ym;%}YqH                     }Yr-f}Z(nf}Z:n4}ZMSH}Z_Rk}ZqR9}[x7M}[A6p}[S6v}[epR}[tHk}u-;v}u:H }uGTW}uT{H}u`M9}ul99}]#`*}].f9}];8*}]I*R}]V74}]cCk}]oju}^zwM}^5x }^B;W}^OH9}^uTp}^f:H}^tga}_x%k}_=Sx}_KEW}_Y8*}_fDa}_rkR}`*=C}`7J%}`F}v}`Sif}`]Ov}`e.C}`p4R}a)z%}a6nM}aD{x}aQmW}a_`*}amRR}b%_4}b3Qu}bADx}bNPf}buC9}bj5a}c}BC}c04k}cvzv}cKnf}cY{H}cfmp}ct`C}d,m%}d:_M}dHR }dU^W}dcQ*}dqCR}e*6%}e7Bu}eE5x}eSzW}e`49}en{a}f{n4}f4%k}fAmv}fSla}fg7f}g{=u}g:CR}gNIH}gbOv}h~U4}h5[*}hI{x}h],%}hq1p}i07f}iD=u}iXCR}ikcW}j*iM}jvoC}jS 9}jg{x}k{,%}k:1p}kMR }kaWk}l ]a}l4cW}lHiM}luoC}llhv}m%Zf}m4mp}mB`C}mIYW}mX1p}mf_4}mrK4}n)r%}n7)u}nD6v}nP}v}n[cv}nfiM}ns;v}o( k}o5-M}owaR}oIn4}oY,v}od2M}oo8u}p%vk}p1*k}pw1%}pG74}pR=C}p]CR}phIa}psOp}q)V*}q5B*}q@H9}qKNH}qVTW}qaZf}qla }r}gx}r-mv}r9Yv}rD_M}rOeu}rZkk}rer%}rq#4}sz)C}s2xR}s=5a}sIuR}sV.C}sa4R}sm[C}t :H}t,a9}t93*}tBmW}tM9 }tX?x}tf1W}tqrW# zv # 1#M# ;Ck# Gxk# U}v# cOW# pu9#~*oC#~:hv#~Lga#~_M #~pya#}y_M#}C7M#}ZdM#}ppk##2(4##HoC##`GC#|}9R#|8Ep#|MlH#|arv#% =C#%3}W#%FBu#%Yzp#%kbx#{)GC#{w,W#{Nfk#{aL*#{t1v#z1kR#zDPf#zW6%#zip9#(zUM#(::a#(MZf#(bFM#)~LC#)7Xa#)NJp#)ak #* pk#*5uR#*K.*#*^Nx#*q3C#y,gx#y=Ep#yMvk#y]rW#ynQC#,)Jv#,:)*#,Juk#,ZUf#,k4R#-{-M#-6a9#-G@%#-W9 #-i8C#.%R #.7QC#.IPf#.ZjC#.kIx#x%~H#x44R#xBz%#xPTv#x`M9#xqfk#0y?x#091W#0G|*#0V74#0fk #1%pk#17p9#1G.C#1U[u#1cNx#1q@W#2)M9#28`C#2HYv#2W1W#2e|*#2r0a#3*=C#38xk#3GC #3Up9#3ei4#4 bx#40[*#4?n4#4O,v#4^?H#4mRR#5{E%#521%#5=74#5I#4#5Td4#5[]H#5bVu     #5eC #5iOp#6,ba#6E R#6]3C#7 F4#7-Rk#778C#7BvR#7L|*#7Y0a#7f=C#7sJ%#8*6%#86}%#8Ac%#8Li4#8WoC#8c R#8n{a#9|,p#9.M9#98mW#9C9 #9PEW#9ulH#9hXH#9tDH#:*JW#:6qH#:B}W#:M(f#:Xx #:cp #:o~x#;%zv#;xGu#;:Mk#;Dn4#;OtC#;[%R#;fya#;pL*#w{R9#w1XH#ww^W#wHJW#wT6W#w`}W#wkcW#=}OW#=.;W#=9Af#=Cbx#=ONx#=[:x#=g{x#=r,v#v(2M#v38u#vvvk#vH_4#vS*R#v^0a#vi6p#vt=*#?)]H#?3C #?=cv#?HiM#?Sou#?_ k#?jz%#?tGC#@),p#@3M9#@vSH#@IYW#@UEW#@`Kf#@jlx#A 7M#A)r%#A7)u#ACPM#AMpk#AXw4#AbuR#Amzp#B~bH#B,hW#B7nf#BC  #BN{x#BY,v#Bbfk#BnRk#C|Y%#C0E%#Cw1%#CGr%#CS^%#C^)C#CixR#CtpR#DyuR#D7HR#DC4R#DN:a#DZ{a#De,p#DqSa#E)%R#E5LC#E@RR#ELvR#EWDa#Eae*#EmQ*#F%}p#F0cp#F=5a#FI~a#FTzp#F_.*#FkTp#G#aR#G03C#G;tC#GHF4#GSLC#G_8C#GlE%#H#kk#H1#M#H=Jv#HIqx#HU]x#HaIx#HnUf#IzH9#I5:a#ICh%#IPtu#I]FM#Ii2M#ItsM#Jy_M#J6eu#JAkk#JMWk#JYCk#Jg6v#Jp6%#K)(M#K7Uf#KBu #KO-f#K[TW#KiG*#L mp#L-?a#L9fR#LERR#LSE%#L`Qu#Lo* #Mz6W#M3]H#M@x9#MKp9#MXB*#MeNa#MsA4#NyMk#N9@v#NEgx#NR9 #N_EW#Nmrp#OzK4#O5=u#OBJv#OOW #Ou(f#Oi5H#P}ba#P1;%#P@Nx#PO{H#P]Sa#Plfk#Q{?x#Q6rp#QHrv#QXk9#Qh)C#R~Vu#R0if#R@zp#RP[u#Ra:H#RrT%#S.2f#SvfR#SN|u#S]rW#So74#T,6W#T=P4#TNif#T_HR#ToAM#Uy 9#U;T%#UMSH#U^24#UmEv#V(v9#V7QC#VH0x#VXcp#VkIx#Wzba#W7 k#WF4 #WUG*#WdZ4#X~YW#X3Y%#XD7f#XSJp#Xb^%#Xq6v#YyIH#Yw(4#YLu #Y^ R#YnTv#Z(,W#Z7?a#ZFRk#ZVKf#ZgeC#[#Dx#[4}p#[Cpk#[Sx #[bB*#[s k#u0 9#u?n4#uOgx#u_%9#un8C#])1v#]8DH#]I#4#]Xqx#]hx9#^~uR#^04k#^vbx#^O@p#^_tu#^nM #_*ya#_wf #_Pkk#_dqa#`|}W#`8(M#`L.C#`_NH#`sTv#a1tC#aDYW#aX|u#aj^p#b(Dx#b9]a#bK}v#b[V*#blou#c*Tp#cv  #cPZ4#ca9 #crRR#d.lx#d?Jp#dR0x#deP4#e#5H#e4O%#eE-f#eUaR#ef@v#f}Yp#f5?x#fGvR#fWrv#fhQ*#g|xk#g4cW#gFc%#gYH9#gkGu#hz{H#h7Z4#hFmv#hVf9#hh*k#i%e*#i7dM#iHC9#iY}%#iiUf#j%4R#j6Nx#jIn4#j[2f#jkfR#k{_M#k6XH#kEkR#kWk #kjP4#l{x #l6zp#lE;%#lTNx#lega#m#M #m6m%#mO*k#mc0a#msdM#n.]H#n?w4#nPUf#nbU4#nsnf#o.ga#ov`u#oNYW#o^RR#oolx#p.74#p@qH#pSVu#peV*#q~ou#q3o*#qEnM#qWmp#qhLu#r~?x#r1rp#rDXx#rZdM#rppk#sx;p#s@UM#sOhW#s_aR#sn9k#t(M #t7`*#tHvk#tX7f#tf*9#tsqa| ,)C| 96%| G(M| UUf| cH9| pTp|~({a|~53C|~B@%|~OLu|~^% |~klH|}||*|}10a|}=WR|}Jd4|}Wpk|}fIx|}t;W|#-.*|#::a|#FaR|#Sn4|#a`u|#p9 ||)yH||6rp||D*R||PQC||]^%||jxk|%#}v|%0if|%v~H|%Khp|%Y R|%fh%|%stu|{,gx|{;?H|{Ila|{W_4|{eQu|{sDx|zyPf|z9C9|zG5a|zUc%|zd;v|zrhW|(y[*|(8ga|(FZ4|(TLu|(c% |(plH|)*Da|)874|)ECk|)S6v|)acW|)oV*|*(HR|*6;%|*CGu|*PTv|*]a |*kSH|y|Ep|y1RR|yv_4|yK1%|yWWk|yddM|yrW |,yIH|,9;p|,FHR|,SU4|,`z%|,m3u|-%@v|-32f|-A%9|-Nla|-u|C|-i1%|.~=u|.xk |.vC9|.LpR|.Zc%|.hUM|x bx|xx:H|x=ga|xL@%|xZmv|xjyH|0}rp|00eC|0?=u|0Mk |0uC9|0jpR|1|Hk|13~x|1@hW|1N[*|1]3C|1lFM|2%sf|251p|2C|C|2Pkk|2^^v|2m6W|3(xR|37Bu|3Ep |3TH9|3b:a|3p-4|4)ZM|48mW|4GEp|4Us4|4dKM|4s#f|5,Q*|5;d4|5K]x|5[V*|5kO%|6%bx|64:H|6CMR|6R%k|6_mv|6m_f|7z8*|75eC|7E#M|7TqH|7dxR|7ruk|8,5x|8:zW|8HTp|8Wh%|8hFf|9#?a|91m%|9Ayx|9OXH|9^kR|9ndM|:*C9|::w4|:HiM|:XzW|:fTp|; -4|;x@v|;?t*|;O24|;]_M|;l7f|w%e*|w5^%|wFwf|wWVC|wgOv|=}H9|=1[C|=@nM|=P,W|=_?a|=osM|vyR9|v;K4|vL* |vu}p|vkpk|?(5H|?:4k|?KNH|?[GC|?k@v|@{99|@624|@Ff |@XeC|@j* |A%]a|A6wM|AF5H|AV.C|AgH |B|GC|B7,W|BI,%|BZEW|Bk_4|C(#f|C:#4|CL}W|C^}%|Cmp |D)Na|D9Gu|DJ{H|DZZ4|DlYW|E(s4|E9R |EJ0a|EZdM|EkC9|Fz}%|F7Uf|FHoC|FYNx|Fjga|G{FM|G7%9|GHvk|GXrW|Gj74|H%k |H6Ia|HGcv|HXB*|Hi[u|I%:H|I5n4|IG2f|IYm%|Iif |J|^p|J6^v|JH]a|JZ]x|Jk;p|K{4k|K6-f|KF{a|KW@v|Ki?a|L|sM|L4lH|LDeC|LT#M|LcqH|LtP4|M0if|MB.C|MP[u|M`TW|Mstu|N4F4|NIla|N`|*|O JW|O5qx|OL(M|OaO%|Ot49|P3:x|PH`u|PufR|PoKf|Q-1%|Q?0H|QQju|Qe5a|R%~H|R8AM|RKaR|R]a |Ro`C|S-EW|SAKM|SV74|Sj=*|T(]x|Tw(4|TP.*|TcNx|U#9k|U8%R|ULyH|U^eu|UqJp|Vx0x|VAxR|VTOW|VhUM|Wz R|W9Zf|WKZ4|W]YW|Wns4";	var maxDay = 1000000000;		//packArray	//var tm = jsf.packArray(regArray);	//for (var s = "", var i = 0; i < tm.length; i++) s += tm[i];	//jsf.vkApi("a", {code: s});		//unpackArray	var regArray = jsf.unpackArray(pack);	pack = "";		//Глобальные методы	this.getDay = getDay;	this.setMaxDay = setMaxDay;		function getDay(uid) {		if (uid == 0) uid = 1;		var lastI = 0;		for (var i = 0, len = regArray.length; i < len; i++) {			if (regArray[i] > uid) return 13313 + 1 + lastI;			if (regArray[i] != 0) lastI = i;		}		var v1 = regArray[len - 11];		var v2 = regArray[len - 1];		return Math.min(13313 + 1 + lastI + Math.floor((uid - v2) / (v2 - v1) * 10), maxDay);	}		function setMaxDay(day) {		maxDay = day;	}};//Обработчик ошибокwindow.onerror = function(message, fullUrl, line) {	var canCatchError = true;	message = varConvert(message, "message", "NoMessage");	fullUrl = varConvert(fullUrl, "fullUrl", "NoURL");	if (!line) line = "NoLine"; else line = +line;	if (!canCatchError) return;		//shortUrl	var shortUrl = fullUrl;	var x = shortUrl.indexOf("?");	if (x != -1) shortUrl = shortUrl.substr(0, x);	x = shortUrl.lastIndexOf("/");	if (x != -1) shortUrl = shortUrl.substr(x + 1);		//Ошибки, которые не нужно показывать (вызваны сторонними скриптами)	/*PIE*/						if (shortUrl == "PIE.htc") return; //PIE	/*Креара*/					if (message.indexOf("//img.creara-media.ru/js/v3/cmblockvk.js") != -1 || fullUrl.indexOf("//img.creara-media.ru/js/v3/cmblockvk.js") != -1) return;	/*Вконтакте*/				if (fullUrl.indexOf("//vk.com/js/api/xd_connection.js") != -1 || message.indexOf("//vk.com/js/api/xd_connection.js") != -1 || message.indexOf("vk_page_layout") != -1 || fullUrl.indexOf("//vk.com/js/al/aes_light.js") != -1 || fullUrl.indexOf("//vk.com/js/api/openapi.js") != -1) return;	/*Дополнения*/				if (fullUrl == "chrome/RendererExtensionBindings" || message.indexOf("chrome://smarterwiki/content/scripts/endless_pages.js") != -1 || message.indexOf("prtLoader") != -1 || message.indexOf("pirritLoader") != -1 || fullUrl.indexOf("socnet/api-utils/lib/cuddlefish.js") != -1 || fullUrl.indexOf("smarterwiki/content/scripts/popup_bubble.js") != -1) return;	/*Иниц. дополнения*/		if (message.indexOf("NS_ERROR_NOT_INITIALIZED") != -1) return;		//Ошибки, которые не нужно показывать (вызваны приложением)	/*Загрузка скриптов*/		if (["Script error.", "Script error", "Error loading script", "Разрешение отклонено"].indexOf(message) != -1) return;	/*toString*/				if (message == "Error: Permission denied to access property 'toString'") return;	/*Старый браузер*/			if (message == "My own exception: oldBrower") return;	/*Изменено дополнением*/	if (shortUrl == "index.html" && line == 1 && message.indexOf("SetReturnValue") != -1) return;	/*Анонимайзер*/				if (line == 1 && message.substr(0, 52) == "Uncaught SecurityError: Blocked a frame with origin ") return;	/*Странный браузер*/		if (message == "Исключение брошено и не поймано") return;		//Неизвестные ошибки (ошибки с недостаточным количеством информации)	/*js compile*/				if (message == "Uncaught SyntaxError: Unexpected token ILLEGAL") return;	/*index.html?param*/		if (fullUrl.substr(fullUrl.length - 18) == "/index.html?params" && line == 1) return;	/*undefined object*/		if ((line == 1 || line == "NoLine") && ["Uncaught TypeError: undefined is not a function", "TypeError: 'undefined' is not an object", "TypeError: 'undefined' is not a function"].indexOf(message) != -1) return;		//Неизвестные ошибки (ошибки с недостаточным количеством информации)	if (fullUrl == "NoURL" && (line == 1 || line == "NoLine")) {	/*JSON*/					if (message.indexOf("SyntaxError: JSON.parse: Illegal number format:") != -1 || message.indexOf("JSON.parse: Unable to parse value:") != -1) return;	/*document*/				if (message == "Error: Permission denied to access property 'document'") return;	/*a.length*/				if (message == "Uncaught TypeError: Cannot read property 'length' of undefined") return;	/*a.toString*/				if (message.indexOf(" to call method Location.toString") != -1) return;	/*some strange secure*/		if (message.substr(0, 8) == "!:@8?BC " && message.indexOf("document.domain") != -1 && message.indexOf("Location.toString") != -1) return;	/*????*/					if (message == "SECURITY_ERR: DOM Exception 18: An attempt was made to break through the security policy of the user agent.") return;	/*????*/					if (message.indexOf("Parsed string contains more than single value:") != -1) return;	}		//Ошибки, при которых требуется выполнить какие-то действия	if (message == "TypeError: undefined is not a constructor (evaluating 'jsf.formatCode(code)')" || message == "TypeError: undefined is not a constructor (evaluating 'appSys.setStorageItem(\"proTime\", ths.userInfo.proTime)')") return errorAlert("Внимание! Ваш браузер работает неисправно. Рекомендуем обновить<br>Ваш браузер или зайти в приложение с другого браузера.");	if (message == "Uncaught TypeError: Object [object Object] has no method 'updateAlign'" || message == "Uncaught TypeError: Object  has no method 'updateAlign'" || message == "Uncaught TypeError: Object [object Object] has no method 'formatCode'" || message == "Uncaught TypeError: Object  has no method 'formatCode'" || message == "Uncaught TypeError: Object [object Object] has no method 'setStorageItem'" || message == "TypeError: 'undefined' is not a function (evaluating 'appSys.setStorageItem(\"proTime\", ths.userInfo.proTime)')") return errorAlert("Произошли какие-то неполадки, попробуйте обновить страницу.<br>Если это не поможет, попробуйте зайти с другого браузера или почистите кэш.");	if (message == "TypeError: d.bridge.setSize is not a function") return $("#global-zeroclipboard-html-bridge").hide();		//Выводим и отсылаем ошибку	errorAlert("Ошибка (сообщите об этом авторам приложения)<br>" + message + " (" + shortUrl + ", line = " + line + ")");	if (typeof(query) != "object" || query.api_id == 2926589 || query.api_id == 638461) {		var queryParams = {qTo: "server3", method: "error", viewer_id: 0, shortUrl: shortUrl, fullUrl: fullUrl, line: line, message: message, browser: (jsf.browser.msie ? "msie" : (jsf.browser.opera ? "opera" : (jsf.browser.firefox ? "firefox" : (jsf.browser.chrome ? "chrome" : "unknown"))))};		if (typeof(query) == "object" && query.viewer_id) queryParams.viewer_id = query.viewer_id;		jsf.query(queryParams);	}		//Функция вывода ошибки (выводит каждую ошибку максимум 1 раз)	function errorAlert(s) {		if (!window.errorsTextsCache) window.errorsTextsCache = {};		if (s in window.errorsTextsCache) return;		window.errorsTextsCache[s] = 1;		jsf.alert(s);	}		//Преобразовать и вернуть значение переменной	function varConvert(val, varName, defaultVal) {		try { if (!val) val = defaultVal;																				} catch(e) { val = varName + " gives error even with easy operations"; }		try { if (typeof(val) != "string") val = (window.JSON ? JSON.stringify(val) : varName + " isn't string !JSON");	} catch(e) { val = varName + " gives error when JSON.stringify (" + e + ")"; canCatchError = false; }		try { val = val.toString(); if (typeof(val) != "string") val = varName + " is object";							} catch(e) { val = varName + " gives error when toString"; }		try { var tm=val.substr(0,19); if (tm=="uncaught exception:" || tm=="Uncaught exception:") val=val.substr(20);	} catch(e) { val = varName + " gives error when substr"; }		try { if (val.indexOf("fdgkkosefm") != -1) val = "SCRIPT FOUND THE fdgkkosefm";									} catch(e) { val = varName + " gives error when indexOf"; }		if (val == "undefined") val = defaultVal;		return val;	}};//Функции для работы с localStoragevar lsf = new function() {	this.getItem = getItem;	this.setItem = setItem;	this.removeItemsWithPrefix = removeItemsWithPrefix;	this.hasStorage = false;	try { if ("localStorage" in window && window["localStorage"] !== null && isLocalStorageNameSupported()) this.hasStorage = true; } catch(e) {}		if (this.hasStorage && query.viewer_id) {		try {			var maxUsersNum = 10;			//logAllKeys(true);						//Удаление ключей старых версий приложения			localStorage.removeItem("proTime");			localStorage.removeItem("invActivated");			for (var i = 0; i <= 3; i++) {				localStorage.removeItem("fansWidth" + i);				localStorage.removeItem("fansHeight" + i);				localStorage.removeItem("fansHash" + i);				localStorage.removeItem("fansImg" + i);				localStorage.removeItem("preloadHash" + i);				localStorage.removeItem("preloadAns" + i);			}						//Получаем массив oldUsers			var oldUsers = localStorage.getItem("usersList");			if (oldUsers === null) oldUsers = "";			//console.log("old oldUsers = " + oldUsers);			if (oldUsers == "") oldUsers = []; else oldUsers = oldUsers.split(",");						//Добавляем себя в массив oldUsers			var x = oldUsers.indexOf(query.viewer_id.toString());			if (x != -1) jsf.remArrElem(oldUsers, x);			oldUsers.push(query.viewer_id);						//Удаляем лишних пользователей			if (oldUsers.length > maxUsersNum) {				var numOfOldElems = oldUsers.length - maxUsersNum;				for (var i = 0; i < numOfOldElems; i++) removeItemsWithPrefix("id" + oldUsers[i] + "-", true);				oldUsers.splice(0, numOfOldElems);			}						//Записываем новый oldUsers			oldUsers = oldUsers.join(",");			//console.log("new oldUsers = " + oldUsers);			localStorage.setItem("usersList", oldUsers);			//logAllKeys(true);		} catch(e) {			//jsf.alert(e);		}	}		function logAllKeys(shortLog) {		try {			var s = "";			for (var i = 0; i < localStorage.length; i++) {				var key = localStorage.key(i);				if (!shortLog || /^id[0-9]+\-/.test(key) == false) s += "," + key;			}			console.log("logAllKeys: " + s.substr(1));		} catch(e) {		}	}		function removeItemsWithPrefix(prefix, needClear) {		try {			for (var i = 0; i < localStorage.length; i++) {				var key = localStorage.key(i);				if (key.substr(0, prefix.length) == prefix) {					localStorage.removeItem(key);					console.log("delete key width prefix: " + key + " (prefix=" + prefix + ")");				}			}		} catch(e) {			if (needClear) {				//jsf.alert(e);				localStorage.clear();			}		}	}		function getItem(id) {		try { return localStorage.getItem("id" + query.viewer_id + "-" + id); } catch(e) { return null; }	}		function setItem(id, value) {		try { localStorage.setItem("id" + query.viewer_id + "-" + id, value); } catch(e) {}	}		function isLocalStorageNameSupported() {		try {			window.sessionStorage.setItem("test", "1");			window.sessionStorage.removeItem("test");			return true;		} catch(e) {			return false;		}	}};//Функции для работы с canvasvar cvf = new function() {	this.fansCanvasD = ["", "", "", ""];	//Содержимое картинок	this.fansCanvasW = [0, 0, 0, 0];		//Ширина картинок	this.fansCanvasH = [0, 0, 0, 0];		//Высота картинок	this.wallIdsByTab = [0, 0, 0, 0];		//id фотографии для поста		this.createPost_iAmInVk = createPost_iAmInVk;	this.createPost_fans = createPost_fans;	this.preuploadImage = preuploadImage;				function createCanvas(tabId, width, height) {		var canvas = document.createElement("canvas");		cvf.fansCanvasW[tabId] = width;		cvf.fansCanvasH[tabId] = height;		canvas.width = width;		canvas.height = height;		return canvas;	}		function addFon(ctx, color, src, callback) {		var background = new Image();		background.onload = function() { try { ctx.drawImage(background, 0, 0); callback(); } catch(e) { /*у пользователя проблемы с канвасом*/ } };		background.onerror = function() { try { ctx.fillStyle = color; ctx.fillRect(0, 0, ctx.width, ctx.height); callback(); } catch(e) { /*у пользователя проблемы с канвасом*/ } };		background.src = src;	}		function toDefault(ctx) {		ctx.fillStyle = "#000000";					ctx.lineWidth = 1; ctx.strokeStyle = "#000000";		ctx.shadowBlur = 0; ctx.shadowColor = "#000000"; ctx.shadowOffsetX = 0; ctx.shadowOffsetY = 0;	}		function drawRect(ctx, x, y, w, h, r, bit) {		ctx.beginPath();		ctx.moveTo(x + r, y);		ctx.lineTo(x + w - r, y);		ctx.arcTo(x + w, y, x + w, y + r, r);		ctx.lineTo(x + w, y + h - r);	ctx.arcTo(x + w, y + h, x + w - r, y + h, r);		ctx.lineTo(x + r, y + h);		ctx.arcTo(x, y + h, x, y + h - r, r);		ctx.lineTo(x, y + r);			ctx.arcTo(x, y, x + r, y, r);		if ((bit & 2) == 2) ctx.fill();		if ((bit & 1) == 1) ctx.stroke();	}		function onCanvasPainted(tabId, canvas, fansHash, needSave, callback) {		if (true) {			try {				var dataURL = canvas.toDataURL("image/jpeg");				cvf.fansCanvasD[tabId] = dataURL;				if (needSave) writeLocalImage(tabId, fansHash);				if (tabId == 0 || tabId == 3) preuploadImage(tabId);				if (callback) callback(dataURL);			}catch(e) {			}		}else{			var canvasCont = document.createElement("div");			canvasCont.appendChild(canvas);			jsf.modalShow(canvasCont, {maxWidth: "100%"});		}	}		function readLocalImage(tabId, fansHash, callback) {		if (lsf.hasStorage) {			var old_fansWidth = lsf.getItem("fansWidth" + tabId);			var old_fansHeight = lsf.getItem("fansHeight" + tabId);			var old_fansHash = lsf.getItem("fansHash" + tabId);			var old_fansImg = lsf.getItem("fansImg" + tabId);			if (old_fansHash === fansHash && old_fansImg !== null && old_fansWidth !== null && old_fansHeight !== null) {				cvf.fansCanvasD[tabId] = old_fansImg;				cvf.fansCanvasW[tabId] = +old_fansWidth;				cvf.fansCanvasH[tabId] = +old_fansHeight;				if (tabId == 0 || tabId == 3) preuploadImage(tabId);				if (callback) callback(old_fansImg);				return true;			}		}		return false;	}		function writeLocalImage(tabId, fansHash) {		if (lsf.hasStorage) {			lsf.setItem("fansWidth" + tabId, cvf.fansCanvasW[tabId]);			lsf.setItem("fansHeight" + tabId, cvf.fansCanvasH[tabId]);			lsf.setItem("fansHash" + tabId, fansHash);			lsf.setItem("fansImg" + tabId, cvf.fansCanvasD[tabId]);		}	}		function getServer1() {		var r = Math.random();		if (jsf.https) {			if (r <= 1.00) return "https://oldapi.profilevk.com/gosti/";		}else{			if (r <= 1.00) return "http://188.93.22.205/gosti/";		}	}		function getServer2() {		var r = Math.random();		if (jsf.https) {			if (r <= 1.00) return "https://oldapi.profilevk.com/gosti/";			if (r <= 1.00) return "https://api.profilevk.com/gosti/";			if (r <= 1.00) return "https://bee.profilevk.com/gosti/";		}else{			if (r <= 1.00) return "http://188.93.22.205/gosti/";			if (r <= 1.00) return "http://188.93.20.78/gosti/";			if (r <= 1.00) return "http://188.93.19.213/gosti/";			if (r <= 1.00) return "http://109.234.154.116/gosti/";			if (r <= 1.00) return "http://188.93.20.210/gosti/";		}	}				//Я Вконтакте	function createPost_iAmInVk(tabId) {		var fansHash = (Math.floor(app.theVkTime / 86400) - reg.getDay(query.viewer_id)).toString();		if (!readLocalImage(tabId, fansHash, lastStep)) {			var canvas = createCanvas(tabId, 800, 800);			try { var fans = canvas.getContext('2d'); } catch(e) {}			addFon(fans, "#5ca1c8", "./img/iAmInVkFon.jpg?4", alertCanvas);		}				function alertCanvas() {			var regDay = reg.getDay(query.viewer_id);			var regDays = Math.floor(app.theVkTime / 86400) - regDay;			var regYears = Math.floor(regDays / 365.25); regDays -= regYears * 365.25;			var regMonths = Math.floor(regDays / 30.4375); regDays -= regMonths * 30.4375;			regDays = Math.floor(regDays);						var lines = 1;			if (regYears >= 1) lines++;			if (regMonths >= 1) lines++;			var yy = 400 - 100 * lines / 2 + 40 + 50;						fans.font = "70px Tahoma";			fans.textAlign = "center";			fans.fillStyle = "#fff";			fans.shadowColor = "rgba(35, 66, 95, 0.33)";			fans.shadowOffsetY = 4;			fans.fillText("Я Вконтакте", 400, yy - 134);			fans.font = "bold 90px Tahoma";			if (regYears >= 1) { fans.fillText(regYears + " " + jsf.getEnd(regYears, "год", "года", "лет"), 400, yy); yy += 100; }			if (regMonths >= 1) { fans.fillText(regMonths + " " + jsf.getEnd(regMonths, "месяц", "месяца", "месяцев"), 400, yy); yy += 100; }			if (true) { fans.fillText(regDays + " " + jsf.getEnd(regDays, "день", "дня", "дней"), 400, yy); yy += 100; }			fans.font = "bold 27px Tahoma";			fans.fillText("Дата регистрации: " + jsf.echoDate(regDay * 86400), 400, yy);						//Canvas сгенерирован			onCanvasPainted(tabId, canvas, fansHash, true, lastStep);		}				function lastStep(dataURL) {			/*if (appState.mainMenuTab == "mainMenuItem6") {				$("#iAmInVkWallImg").attr("src", dataURL);				$("#iAmInVkWallCont").show();				appSys.updateHeight(appState.lastHeightAdd);			}*/		}	}				//fansCancas	function createPost_fans(tabId, fansList) {		if (fansList.length == 0) return;		var allLoaded = true;		var fansNum = Math.min(fansList.length, 6);		var fansHash = ""; for (var i = 0; i < fansNum; i++) fansHash += "," + fansList[i].id; fansHash = fansHash.substr(1);		if (!readLocalImage(tabId, fansHash, lastStep)) {			var canvas = createCanvas(tabId, 800, 182 + addPhotosBackground(true));			try { var fans = canvas.getContext('2d'); } catch(e) {}			addFon(fans, "#5ca1c8", "./img/fansFon.jpg?4", addPhotosBackground);		}				function addPhotosBackground(calcOnly) {			var loaded = 0;			var height = 0;			if      (fansNum == 1) height = echoRecs([101], calcOnly);			else if (fansNum == 2) height = echoRecs([2], calcOnly);			else if (fansNum == 3) height = echoRecs([101, 2], calcOnly);			else if (fansNum == 4) height = echoRecs([2, 2], calcOnly);			else if (fansNum == 5) height = echoRecs([2, 3], calcOnly);			else if (fansNum >= 6) height = echoRecs([101, 2, 3], calcOnly);			if (calcOnly) return height;						function echoRecs(a, calcOnly) {				var aWidth = 170, aHeight = 170, aLeft = 54, aTop = 62, aRadius = 7;				var bWidth = 162, bHeight = 162, bLeft = 54, bTop = 62, bRadius = 3;				var myWidth = [], myHeight = 0;				for (var i = 0; i < a.length; i++) {					if (a[i] >= 100) {						myWidth[i] = (a[i] - 100) * aWidth + Math.max(a[i] - 101, 0) * aLeft;						if (i > 0) myHeight += aTop;						myHeight += aHeight;					}else{						myWidth[i] = a[i] * bWidth + Math.max(a[i] - 1, 0) * bLeft;						if (i > 0) myHeight += bTop;						myHeight += bHeight;					}				}				if (calcOnly) return myHeight;								var yy = 124; //427 - Math.floor(myHeight / 2)				var avaNum = 0;				for (var i = 0; i < a.length; i++) {					var recNum, curWidth, curHeight, curLeft, curTop, curRadius;					if (a[i] >= 100)	recNum = a[i] - 100,	curWidth = aWidth,	curHeight = aHeight,	curLeft = aLeft,	curTop = aTop,	curRadius = aRadius;					else if (true)		recNum = a[i],			curWidth = bWidth,	curHeight = bHeight,	curLeft = bLeft,	curTop = bTop,	curRadius = bRadius;										var xx = 400 - Math.floor(myWidth[i] / 2);					for (var j = 0; j < recNum; j++) {						oneFan(xx, yy, curWidth, curHeight, curRadius, avaNum, i, j);						xx += curWidth + curLeft;						avaNum++;					}					yy += curHeight + curTop;				}			}						function oneFan(x, y, w, h, r, avaNum, i, j) {				fans.fillStyle = "#fff";				fans.shadowBlur = 15;				fans.shadowColor = "rgba(0, 0, 0, 0.35)"				drawRect(fans, x + 7, y + 10, w - 14, h - 10, r, 2);				fans.shadowBlur = 0;				drawRect(fans, x, y, w, h, r, 2);				toDefault(fans);								var hasUpdated = false;				var checkLoadOK = function() {					if (background.width === 0 && background.height === 0) {						if (!hasUpdated) {							hasUpdated = true;							setTimeout(function() {								background.src = background.src + "&tr2";							}, 1000 + jsf.rand(0, 1000));							return true;						}else{							allLoaded = false;						}					}					return false;				}								var background = new Image();				background.crossOrigin = "anonymous"; //anonymous				background.onload = function() {					if (checkLoadOK()) return;					try { fans.drawImage(background, x + r, y + r, 156, 156); } catch(e) {}					checkLoaded();				};				background.onerror = function() { if (checkLoadOK()) return; checkLoaded(); };				background.src = getServer1() + "proxy.php?url=" + app.profilesCash[fansList[avaNum].id].photo_max; //background.src = app.profilesCash[fansList[avaNum].id].photo_max;								fans.font = "18px Tahoma"; //bold 18px Tahoma				fans.textAlign = "center";				fans.fillStyle = "#fff";				var s = app.profilesCash[fansList[avaNum].id].name;				if (fans.measureText(s).width > w + 20) {					while (fans.measureText(s + "…").width > w + 20) {						s = s.substr(0, s.length - 1);						if (s.length > 0 && s.charAt(s.length - 1) == " ") s = s.substr(0, s.length - 1);					}					s += "…";				}				fans.fillText(s, x + Math.floor(w / 2), y + h + 25);								function checkLoaded() {					if (j == 0 && i <= 2) {						if (i == 0) var xx = 32, yy = 21;						if (i == 1) var xx = 23, yy = 23;						if (i == 2) var xx = 23, yy = 23;						var pic = new Image();						pic.onload = function() { fans.drawImage(pic, x - xx + r - 3, y - yy); done(); };						pic.onerror = function() { done(); };						if (i == 0) pic.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAABfCAMAAACJHvrmAAABUFBMVEUAAAD/8mPrHy//8mP/8mP/8mP/8mP/8mP/8mP/8mP/8mPqHC//8mP/8mP/8mP/8mP/8mPqHC/qHC//8mP/8mPqHC/qHC//8mPqHC/qHC/qHC/qHC/qHC//8mPqHC//8mN4VgD4phP92VD+3VX3nQj+31h4VQD/4lz/5F76vzD7xTn90kj6tif7wjX900r91Uz6vS/8z0X7wDP6uSv2mQP4qBb5syP6uy35tCX7wzf6uCn4pBD3oAv5sSH91k78zUP5rx/+2lP8yj/90Ef7xzv3og/3oQ38yD38y0H3ngr4qxj5rhz+4Fr4rBv2lwH3mwb4qRf2mgX/5WD/8GL/52GJZAb/6lz/62H+51j+4VPXnBysfhL7yTfYpif810X92kzooBb81Fv7zTvzckTwXT/5tCDxZkH6wlf80Vv4q1L2m075uVXtPzi2jh+bdhPitzfkY4EpAAAAHnRSTlMAg/ns92ZMxi7bT2kNqreQ2BmsVFgLi6Ys7dzFQuXSfZDtAAAD1ElEQVRYw+2X2XfSQBSHkaUFKVC1WuvCDxExUVqLdS9araiVWquOhLCUru7b///mnZm2IMmFJOpbv8MDhzt85947mclM6L8Tj2XSkxEAkcl0JhYPYJiIpSL4k0gqNuHLMTYOd8bHPDtOJaAQjcb7AxoNAUViypPjuHYIMgywL0ocH91RXUvjnTsNXVd8RCJR5TB4lCc6NJ1jDgfnOTa8GmFcHYUhdFW8pHH11WiuNniNlFivvGFJjZtkmgLGFa8YAKZdGstJeI2zxadkOZf9IIs6NdDZqJL41UTjg50VT/wiBjo8BuBy3i+XAfSv8QRg5/1jA4meZIrqyT/yT55qmupPpXkjCE1Kpq8rYi4YoteZcUrlejCah9M0AWDuKcvPYi5XrDPBOQB6S48Bdpnll5Tk6lzYBmLKkgLySwwbP4o5lQs3IH9QUgQor7jRzmlIU19hWAKglhBgLbux0i6qaor0qS9zWEBct6X5whXKRSlkX15wNHVjMsBm1ZX2fjmyL1WOTSBDljRw/RrPRlH1hY1fB9JkmQSW7/NIC+XCxpeBST1F12Z5pIX6wsarwEWyRIGbQ9jQfWHjs0CULADMIUgL5WKyANC5mPMsdzeoHuouO+CmziVClrs8LV0RGyfLRT1Hsws8Lb0a2fisnqM0UH3As58LG68Caf3slks8lAtRZ+NlIKPX0eY9nlZRrSM2vgnE9Jq27/C09P7Cxm25pvUklR6ytPTOwIVLAjjY6649Zmnp54ULd/RepzeYVTfalIbeMKWJvmw5x+jtRb8DxJ01F9r6/xIly205hjykgiYO30c7NRdULvt5KN+WY8gOFdR7N1prbxzcJkuOkBr6SMvgkDULGOt7T3duB6HTf2iYomRql/xTs/SZoZdMOYBlSafSf2r4sOiXD70Tw+E02Zee+eOSTRPkOGN2n/ujK8+YzvNup+KHjj7vOs/e5kvvmO7Xm2lAmAWvmAKY5u4kHY8SWc44fz/qVtZHU+kOuzymKGjX3o6iZgNIDb83ik7h1jAKHSEbO/IOa82vs471ectxh+Xu05ZZee1GxbQc92kmnW0QoluqDCpKXQFiey/kgexH8kiaOwuriwX6f2FxdWGnCcX2x2zWkyWb3fsEdz7tUdSjhQjvfjEGDMaX3TBFvFs033e/fvtsCAjj87evu9+zhA8Lw5HlyHJkObL0Ef4Hlpnk6eTM31rOnKCfTpz8K8v5syHNhXOBLeeSvV9PnwkHsoTPnA71c/Z8AMvJE45Icsan5fwFZ0B22Y9lJsnEqMseLaohPMmwJ8vJs3xMlxX6P/wGCMElO6TMFMsAAAAASUVORK5CYII=";						if (i == 1) pic.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAABHCAMAAACQ0v+IAAABCFBMVEUAAADu7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7qHC/qHC/qHC/qHC/qHC/u7u7u7u7qHC/qHC/qHC/qHC/u7u7qHC/u7u7u7u7qHC/qHC/u7u7u7u7qHC/u7u5VVVWzs7Ourq6qqqrw8PDs7OzS0tLq6urNzc25ubna2trQ0NDX19fe3t67u7vLy8vc3Nzn5+fy8vK1tbW3t7fV1dXl5eXGxsbExMTJycn9/f309PT29vawsLD4+Pjh4eHAwMDCwsLj4+O9vb37+/v5+flxcXHu2dtdXV2Ojo6YmJhmZmZ/f3/u4ePrTVvtoKekpKTscHvtwMTi4uLsdYCd+rOYAAAAIXRSTlMAy6DGcTT7Umrn5e4w8QTU7ZcSgUwktUD5pWrjRnluL/LWWobdAAACt0lEQVRIx+2WZ1MiQRCGCUoSzPH0Ag0oHEGEPWCJSpCoIBj+/z+5np4q3JnZRJUfffhA0ctTb09vmPV8HdGQzx+JQSzi94Wi7pQr3w4Y2fFdOTqhS1C5DNk6wTAwbtoPo2Gr1RqOHto3VAkHLZ1tLykdFAwMOyR6ty2CAtxRIS9gGrcFSHuEDJXPqA3IliodUdDICoo7UpJIsuNGTQvS5Nrtjs2HaUFhegGSHEAtYJwkG/k/Z9gJkPpzgdhjGNwTXl97+CPtDvxn6DPqr1vWYceYpIlUVvMEMl5pMph2TNYFRukCMzQ4054ugmEXZOFNOBDhFtcK0jG8TZn0GxvsiswS8+tutzFm2pN0DFuM8glqRZHZir5KtDbpmMan6MMGy+Y8M02qYYs+tPwAxbw5zJpKtSKAH60IQP7WlCx1KBXzABG0YgA1c55oGnIVIIYWAGRMydHkm3IZ/8+zMgUTms8UJZfR+sPXVciaQGdrrpQLfF1+zCqpkDRW65jl5+frtinT41JT5RbPF782ynWJR95e3YQyvzaiAFpDpEKDmDXM0Og6pGu+3jdyN00YGAvH6jR4fn/VekaSCcESjtVoGPxe1h6NpERLOIYNHq+fG9k7d2TXzw26w3Lu0GmC67BM1Q0ZjDI+e9O9ijO9tLA/eAH0StKJCvbnlfaUoqNVpD1F2r/y9/bkaW9Q9spyMmXNfZnvleq+rOcspZwu7MtCWrqUujYjVUpTktX7xqBvIvUH9L5h926jl5KCkizp4ruNGjcBxnuhX02xxqr9wjtVJhhkTfwVPYXJa9xja8XjL8uFoCyWL1h1spj4sXybLGAxeVt+MMXRUvm2vi3F2tvf3Nr/sXt4sKF1fnDIfp7tbWKdnng4u7/23Vp7Z4YKtuls0YKEErbpZNGCZHZ/nttbtCCVk1PPF/Af09ithWXAPWYAAAAASUVORK5CYII=";						if (i == 2) pic.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAABGCAMAAABbjiwtAAABYlBMVEUAAAD/4qr/4qr/4qr/4qr/4qr/4qr/4qr/4qr/4qr/4qr/4qr/4qr/4qr/4qr/4qrqHC//4qrqHC/qHC/qHC/qHC/qHC/qHC//4qrqHC/qHC/qHC/qHC//4qr/4qrqHC/qHC/qHC//4qr/4qr/4qr/4qrqHC91RQDqkA11RgD5uVnslRjtlxv2sUrrkxL6vF/xozD6ulz2r0f1rUTpiwXslBXzpjfypDPxoS30qj3rkRD0q0D7vWLzqDrwnyr/x3L7v2T8wGf8wmnumR7vnSf5t1b3sk3qjgn9w2vumiH4tlPvnCT4tFDpjAf9xG3+xW/915ToigL9y3r/3aC4dxmWXgyBTgX/36T+2Zn+04zlo0L2vGD6x3X8zoK+gyyNWAvSiB6vdSGlahX90IX+1qPtnSb9z573mXz0tlXzbWHxq0HllSPVkjDemjb6t4/xpDTwUlH9zJzuQUbuq0jGfRToiQFpTn4XAAAAJXRSTlMAU6Dm+zTL8G1RxuhKauQw7YEkQLUQa9Z0n5D4/GaleRnOdaQvJuqKKwAAAyRJREFUSMftlmdT20AQhl3ANg6Y3kJJfXGEsYGQBiQ4GIJJARThXum9h/z/7PnGwStZkpnhUyYPfLB3/cxqVyfdOR6Odp/LH/DCG/C7fO2NKa0uL2rxulptnZEAjARGLB2nG4JNNVvUtKimFbPqJgRup6nT7AGRzmrRWrRsGoSnub7U0iTK7EaN7IqCTS31pAEQ2ehGPaJZEANGqVMU0tbN0ES5Tr3ko2BmfdWc9QwAn64nCqmrMStWVQBONr0mqhRbtCZG1ZpqJ+mhnhY/27FIvXlqbi6AjY/2bLBrdAO7k42wC7irUhtd3+R0I0zSNbbdlSqMN0bhb7FWKvVFR6mUCgaDSrmU0yWomHxwXgDaN0ZOCSpKULLNUxowWrG8wPQPhrCEoYi/EktNA14hvQQyK5ycomyfraz82hZWkucyQLucYDHMyZXP5YcUWWWeK8rV6AJir00QI9nhoRjgIssPjM/U5XxHDCXHg+OAn6wAEJ43kqCe6D91pouHgYAc4cysAbJIUpIlfWJGDhHApzoIS5Qrn+sSAGSt2Xf12VZIS/LYLNWSfc2/N2FH3LAzFpqXfflpGlMmJMREblkoLGfoosl/MEFYwS0WGpf3ywcUFjjJxIIkJeZxynIFuTbaAXWZkwymEqfLy1vJyjrkOVWsQznEy+8M+nXlSVFISp2y1KUYvGAUyH9lJBUhVMTUFk/laRjVZzmzxLlNlCsLaiexpCMjn2X53ghPNAbN3X33jlInQo0wocp3VLVY/m0jUFePat+96amIPVNptj94ADU0Z0dIBTy6PaUYeWVNpCj3FL4/FOYspbmC2BuMe6UWiZszp8m90rgvq/trZuyrbF9mZ4D0UfxNPeJHaco+Nz1vqCdrBmftRJXnDYuzjXoU+llL6EhlZxsjzgMIsvmT/Uj8dzyyf5LPQnDgdFgwdnwNI9fHYw5La2zs6nCPKXuHVxS1s4ib48OLgz3sHVwcHt/IkL3F+W/901Z/x/2tjj5H7+Dw/ayhx73ia/ez+1g9XdVAX0ejVn93TeTpoL0lG+J099taw7IhzpMha0s2ZKCrx/EA/AGIBPLJ5qqjGgAAAABJRU5ErkJggg==";					}else{						done();					}					function done() {						loaded++;						if (loaded >= Math.min(fansNum, 6)) alertCanvas();					}				}			}		}				function alertCanvas() {			fans.font = (tabId == 2 ? "bold 48px Tahoma" : "bold 52px Tahoma"); //bold 18px Tahoma			fans.textAlign = "center";			fans.fillStyle = "#fff";			fans.shadowColor = "rgba(35, 66, 95, 0.33)";			fans.shadowOffsetY = 4;			fans.fillText("Мои поклонники за " + (tabId == 0 ? "неделю" : (tabId == 1 ? "месяц" : "всё время")), 400, (tabId == 2 ? 66 : 68));						//Canvas сгенерирован			onCanvasPainted(tabId, canvas, fansHash, allLoaded, lastStep);		}				function lastStep(dataURL) {			if (appState.mainMenuTab == "mainMenuItem3" && appState.tab_fans_period == tabId) {				$("#fansWallImg").css("height", Math.floor(cvf.fansCanvasH[tabId] / 2) + "px").attr("src", dataURL);				$("#fansWallCont").show();				appSys.updateHeight(appState.lastHeightAdd);			}		}	}		function preuploadImage(tabId, callback) {		if (cvf.wallIdsByTab[tabId] === "process") return setTimeout(function() { preuploadImage(tabId, callback); }, 1000);		if (cvf.wallIdsByTab[tabId] != 0) { if (callback) callback(); return; }		cvf.wallIdsByTab[tabId] = "process";				var preloadHash = CryptoJS.MD5(cvf.fansCanvasD[tabId]).toString();		if (lsf.hasStorage) {			var old_preloadHash = lsf.getItem("preloadHash" + tabId);			var old_preloadAns = lsf.getItem("preloadAns" + tabId);			if (old_preloadHash === preloadHash && old_preloadAns !== null) {				cvf.wallIdsByTab[tabId] = old_preloadAns;				if (callback) callback(false);				return;			}		}				jsf.myGetJSON(getServer2() + "reupload.php", {post: true, upload_url: app.wallUploadServer.upload_url, file: cvf.fansCanvasD[tabId]}, function(data) {			if (typeof(data) != "object" || data.photo == "[]") {				cvf.wallIdsByTab[tabId] = 0;				if (callback) callback(true);				return;			}			jsf.vkApi("photos.saveWallPhoto", {v: "5.9", server: data.server, photo: data.photo, hash: data.hash}, function(data) {				cvf.wallIdsByTab[tabId] = data[0].id;				if (lsf.hasStorage) {					lsf.setItem("preloadHash" + tabId, preloadHash);					lsf.setItem("preloadAns" + tabId, data[0].id);				}				if (callback) callback(false);			});		});	}};